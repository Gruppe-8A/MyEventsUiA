<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>Hovedside MyEventsUiA</title>

        <!--Linker til CSS filen for hele nettsiden-->
        <link rel="stylesheet" href="src/styles.css">

        <!--Linker til CSS filen for leaflet for å style kartet-->
        <link rel="stylesheet" href="src/leaflet/leaflet.css">

        <!--Linker til javascript filen for leaflet-->
        <script src="src/leaflet/leaflet-src.js"></script>

        <!-- Manifest fil for å kunne legge til ikon på hjem-skjermen til iOS og Android brukere hvis de lagrer nettsiden på telefonen sin. Innstillingene i manifest-filen gjør også at siden åpnes i fullskjermmodus på telefonen, og oppleves derfor mer som en applikasjon enn en nettside.  -->
        <link rel="manifest" href="src/manifest.json">
    </head>
    <body>
        <!--Et HTML <img> element for å vise logoen til nettsiden. Logoen er en .png fil for å kunne ha gjennomsiktig bakgrunn. Har brukt css-klassen "logo" som finnes i styles.css filen Logoen vises øverst til venstre på mobilvisning (> 500px), og nede til høyre på skrivebordvisning (<500px) -->
        <img src="img/logo.png" class="logo" alt="UiA">

        <!--Et HTML <div> element (division) for visning av kartet i bakgrunnen. Elementet har id "mapid" som brukes i javascript-koden i bunn for å generere kartet i division-elementet. Elementet har en css-klasse "mapstyle" som finnes i styles.css filen. -->
        <div id="mapid" class="mapstyle"></div>

        <!--DIV element for Event oversikt -->
        <div class="main-content hidden" id="EventOversiktDiv">
                <div class="content-close" align="center">
                    <div class='content-title'>EVENTOVERSIKT</div>
                    <div class="close-line"></div>
                </div>
            <div class='content'>
                <input class="input-style" type="text" placeholder="Søk...">
                <table id="eventOversikt">
                    <tr>
                        <td class="event-oversikt"><img src="img/ikoner/home.png" id="ikoner-oversikt"></td>
                        <td class="event-oversikt">Bursdagsfest:<p>21.09.21</p></td>
                        <td class="event-oversikt">Maks ant.<p>24</p></td>
                    </tr>
                    <tr>
                        <td class="event-oversikt"><img src="img/ikoner/clapperboard.png" id="ikoner-oversikt"></td>
                        <td class="event-oversikt"><a href="show_event.html">No time to die (Nynorsk tale)<p>12.11.21</p></a></td>
                        <td class="event-oversikt">Maks ant.<p>320</p></td>
                        <!-- La til link til show event siden, legge dette til på alle event tekstene? -->
                    </tr>
                    <tr>
                        <td class="event-oversikt"><img src="img/ikoner/book.png" id="ikoner-oversikt"></td>
                        <td class="event-oversikt">Bokklubb<p>30.10.21</p></td>
                        <td class="event-oversikt">Maks ant.<p>8</p></td>
                    </tr>
                    <tr>
                        <td class="event-oversikt"><img src="img/ikoner/flash.png" id="ikoner-oversikt"></td>
                        <td class="event-oversikt">Rumpeldunk<p>25.11.21</p></td>
                        <td class="event-oversikt">Maks ant.<p>24</p></td>
                    </tr>
                    <tr>
                        <td class="event-oversikt"><img src="img/ikoner/christmas-tree.png" id="ikoner-oversikt"></td>
                        <td class="event-oversikt">Julekro<p>18.12.21</p></td>
                        <td class="event-oversikt">Maks ant.<p>75</p></td>
                    </tr>
                    <tr>
                        <td colspan="3"><button class="submit-btn" onclick="tableRow()">SE FLERE</button></td>
                    </tr>
                </table>
            </div>
        </div>



        <!--DIV element for Opprett Event -->
        <div class="main-content hidden" id="OpprettEventDiv">

                <div class="content-close" align="center">
                    <div class='content-title'>OPPRETT EVENT</div>
                    <div class="close-line"></div>
                </div>
            <div class='content'>
                <form>
                    <label for="event_title" class="header-text">Event tittel</label><br>
                    <input type="text" id="event_title" name="event_title" class="input-style">
                    <br>
                    <label for="event_description" class="header-text">Event beskrivelse</label>
                    <table class="tbl">
                        <tr>
                            <td><textarea id="event_description" name="event_description" class="textarea-style"></textarea>
                            </td>
                            <td>
                                Last opp bilde
                            </td>
                        </tr>
                    </table>
                    <br>
                    <label for="hvor_description" class="header-text">Hvor</label>
                    <input type="text" id="hvor" name="hvor" class="input-style">
                    <br>
                    <br>
                    <table class="tbl-bottom-frm small-text">
                        <tr>
                            <td colspan="2" style="text-align: center;">
                            Ytterligere informasjon (frivillig)</td>
                        </tr>
                        <tr>
                            <td>Tillat med alkohol?</td>
                            <td style="text-align: center;">Nei <div class="switch">
                                <input id="switch-1" type="checkbox" class="switch-input"/>
                                <label for="switch-1" class="switch-label">Switch</label>
                            </div> Ja</td>
                        </tr>
                        <tr>
                            <td>Er arrangementet utendørs?</td>
                            <td style="text-align: center;">Nei <div class="switch">
                                <input id="switch-2" type="checkbox" class="switch-input"/>
                                <label for="switch-2" class="switch-label">Switch</label>
                            </div> Ja</td>
                        </tr>
                        <tr>
                            <td>Maks antall gjester:</td>
                            <td><input type="number" id="antall-gjester" name="antall-gjester" class="input-event-antall" placeholder="0"></td>
                        </tr>
                    </table>
                    <br>
                    <div align="center">
                        <button id="opprett-event" type="submit" name="opprett-event" class="submit-btn">OPPRETT</button>
                    </div>
                </form>
            </div>
        </div>
            <!--Opprett event slutt-->

        <a href="profil.html">
        <img src="img/profilknapp.png" class="profil-logo">
        </a>
        <!-- Starten på menyen. Hele meny-linjen består av et <div>-element som har CSS-klassen "meny" som finnes i styles.css filen -->            
             <div class='meny'>
                <!-- En av tre knapper som er like utenom bildefilen. CSS klassen "menu-btn" definerer rammen for knappene, men det er bildefilen som er selve linken.-->
                <div class='menu-btn'>
                    
                        <img src="img/menu.png" alt="meny" class="menu-btn-img" id="EventOversiktBtn"/>
                    
                </div>
                <div class="menu-btn">
                        <img src="img/pluss.png" alt="opprett event" class="menu-btn-img" id="OpprettEventBtn"/>
                </div>
                <div class="menu-btn">
                    <a href="venner.html" class="menu-btn">
                        <img src="img/friends2.png" alt="venner" class="menu-btn-img" id="VennerBtn"/>
                    </a>
                </div>
            </div>  
    </div>

    <!--Start på javascriptet i denne filen -->
    <script src="src/MyEventsUiA-leaflet.js"></script>
    <script>

        //Lager en variabel som refererer til de elementene som har css klassen "content-close"
        let CloseBtn = document.querySelectorAll(".content-close");

        //Går gjennom alle de elementene som har content-close css og legger på en "onclick-event" for å skjule "parent"- (foreldre) elementet som er main-content.
        CloseBtn.forEach(btn => {
            btn.addEventListener("click", function() {
                let content = this.parentElement;
                //Legger til css-klassen "hidden" som gjør at elementet skjules.
                content.classList.add("hidden");
            });
        });

        //Javascript for å vise Event oversikt når menyknappen trykkes
        document.querySelector('#EventOversiktBtn').addEventListener('click', function(){
            //Hvis det er en klikk på menyknappen, så skal den fjerne klasse "hidden" fra alle andre div-elementer i main-content
            Array.from(document.querySelectorAll('.main-content')).forEach((el) => el.classList.add('hidden'));
            document.querySelector('#EventOversiktDiv').classList.remove("hidden");
        });

        //Javascript for å vise Event oversikt når menyknappen trykkes
        document.querySelector('#OpprettEventBtn').addEventListener('click', function(){
            //Hvis det er en klikk på menyknappen, så skal den fjerne klasse "hidden" fra alle andre div-elementer i main-content
            Array.from(document.querySelectorAll('.main-content')).forEach((el) => el.classList.add('hidden'));
            document.querySelector('#OpprettEventDiv').classList.remove("hidden");
        });

        //remove css class
        Element.prototype.removeClass = function(className){
            this.classList.remove(className);
        }

       



    </script>
    </body>
    </html>
